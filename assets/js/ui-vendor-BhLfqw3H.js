import{r as E,c as O,u as Ee,i as U,w as W,o as R,a as Te,h as C,F as J,d as F,p as _,b as Z,t as D,n as M,e as ee}from"./vue-vendor-BCFQxE-W.js";function Le(e,l,n){let r=E(n==null?void 0:n.value),u=O(()=>e.value!==void 0);return[O(()=>u.value?e.value:r.value),function(a){return u.value||(r.value=a),l==null?void 0:l(a)}]}function $e(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(l=>setTimeout(()=>{throw l}))}var ie;let Ae=Symbol("headlessui.useid"),De=0;const G=(ie=Ee)!=null?ie:function(){return U(Ae,()=>`${++De}`)()};function y(e){var l;if(e==null||e.value==null)return null;let n=(l=e.value.$el)!=null?l:e.value;return n instanceof Node?n:null}function $(e,l,...n){if(e in l){let u=l[e];return typeof u=="function"?u(...n):u}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(l).map(u=>`"${u}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$),r}var Fe=Object.defineProperty,ke=(e,l,n)=>l in e?Fe(e,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[l]=n,se=(e,l,n)=>(ke(e,typeof l!="symbol"?l+"":l,n),n);let Re=class{constructor(){se(this,"current",this.detect()),se(this,"currentId",0)}set(l){this.current!==l&&(this.currentId=0,this.current=l)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},te=new Re;function fe(e){if(te.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let l=y(e);if(l)return l.ownerDocument}return document}let Y=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var A=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(A||{}),H=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(H||{}),Ne=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(Ne||{});function je(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(Y)).sort((l,n)=>Math.sign((l.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var le=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(le||{});function be(e,l=0){var n;return e===((n=fe(e))==null?void 0:n.body)?!1:$(l,{0(){return e.matches(Y)},1(){let r=e;for(;r!==null;){if(r.matches(Y))return!0;r=r.parentElement}return!1}})}var Me=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(Me||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));let Ce=["textarea","input"].join(",");function Be(e){var l,n;return(n=(l=e==null?void 0:e.matches)==null?void 0:l.call(e,Ce))!=null?n:!1}function j(e,l=n=>n){return e.slice().sort((n,r)=>{let u=l(n),a=l(r);if(u===null||a===null)return 0;let t=u.compareDocumentPosition(a);return t&Node.DOCUMENT_POSITION_FOLLOWING?-1:t&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function B(e,l,{sorted:n=!0,relativeTo:r=null,skipElements:u=[]}={}){var a;let t=(a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?a:document,i=Array.isArray(e)?n?j(e):e:je(e);u.length>0&&i.length>1&&(i=i.filter(w=>!u.includes(w))),r=r??t.activeElement;let m=(()=>{if(l&5)return 1;if(l&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),p=(()=>{if(l&1)return 0;if(l&2)return Math.max(0,i.indexOf(r))-1;if(l&4)return Math.max(0,i.indexOf(r))+1;if(l&8)return i.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),f=l&32?{preventScroll:!0}:{},o=0,v=i.length,P;do{if(o>=v||o+v<=0)return 0;let w=p+o;if(l&16)w=(w+v)%v;else{if(w<0)return 3;if(w>=v)return 1}P=i[w],P==null||P.focus(f),o+=m}while(P!==t.activeElement);return l&6&&Be(P)&&P.select(),2}function Ue(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function He(){return/Android/gi.test(window.navigator.userAgent)}function Ve(){return Ue()||He()}function z(e,l,n){te.isServer||W(r=>{document.addEventListener(e,l,n),r(()=>document.removeEventListener(e,l,n))})}function qe(e,l,n){te.isServer||W(r=>{window.addEventListener(e,l,n),r(()=>window.removeEventListener(e,l,n))})}function We(e,l,n=O(()=>!0)){function r(a,t){if(!n.value||a.defaultPrevented)return;let i=t(a);if(i===null||!i.getRootNode().contains(i))return;let m=function p(f){return typeof f=="function"?p(f()):Array.isArray(f)||f instanceof Set?f:[f]}(e);for(let p of m){if(p===null)continue;let f=p instanceof HTMLElement?p:y(p);if(f!=null&&f.contains(i)||a.composed&&a.composedPath().includes(f))return}return!be(i,le.Loose)&&i.tabIndex!==-1&&a.preventDefault(),l(a,i)}let u=E(null);z("pointerdown",a=>{var t,i;n.value&&(u.value=((i=(t=a.composedPath)==null?void 0:t.call(a))==null?void 0:i[0])||a.target)},!0),z("mousedown",a=>{var t,i;n.value&&(u.value=((i=(t=a.composedPath)==null?void 0:t.call(a))==null?void 0:i[0])||a.target)},!0),z("click",a=>{Ve()||u.value&&(r(a,()=>u.value),u.value=null)},!0),z("touchend",a=>r(a,()=>a.target instanceof HTMLElement?a.target:null),!0),qe("blur",a=>r(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function de(e,l){if(e)return e;let n=l??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function me(e,l){let n=E(de(e.value.type,e.value.as));return R(()=>{n.value=de(e.value.type,e.value.as)}),W(()=>{var r;n.value||y(l)&&y(l)instanceof HTMLButtonElement&&!((r=y(l))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}function ve(e){return[e.screenX,e.screenY]}function Ge(){let e=E([-1,-1]);return{wasMoved(l){let n=ve(l);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(l){e.value=ve(l)}}}var V=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(V||{}),Ke=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Ke||{});function k({visible:e=!0,features:l=0,ourProps:n,theirProps:r,...u}){var a;let t=ge(r,n),i=Object.assign(u,{props:t});if(e||l&2&&t.static)return Q(i);if(l&1){let m=(a=t.unmount)==null||a?0:1;return $(m,{0(){return null},1(){return Q({...u,props:{...t,hidden:!0,style:{display:"none"}}})}})}return Q(i)}function Q({props:e,attrs:l,slots:n,slot:r,name:u}){var a,t;let{as:i,...m}=ne(e,["unmount","static"]),p=(a=n.default)==null?void 0:a.call(n,r),f={};if(r){let o=!1,v=[];for(let[P,w]of Object.entries(r))typeof w=="boolean"&&(o=!0),w===!0&&v.push(P);o&&(f["data-headlessui-state"]=v.join(" "))}if(i==="template"){if(p=he(p??[]),Object.keys(m).length>0||Object.keys(l).length>0){let[o,...v]=p??[];if(!_e(o)||v.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${u} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(m).concat(Object.keys(l)).map(d=>d.trim()).filter((d,g,S)=>S.indexOf(d)===g).sort((d,g)=>d.localeCompare(g)).map(d=>`  - ${d}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(d=>`  - ${d}`).join(`
`)].join(`
`));let P=ge((t=o.props)!=null?t:{},m,f),w=Te(o,P,!0);for(let d in P)d.startsWith("on")&&(w.props||(w.props={}),w.props[d]=P[d]);return w}return Array.isArray(p)&&p.length===1?p[0]:p}return C(i,Object.assign({},m,f),{default:()=>p})}function he(e){return e.flatMap(l=>l.type===J?he(l.children):[l])}function ge(...e){if(e.length===0)return{};if(e.length===1)return e[0];let l={},n={};for(let r of e)for(let u in r)u.startsWith("on")&&typeof r[u]=="function"?(n[u]!=null||(n[u]=[]),n[u].push(r[u])):l[u]=r[u];if(l.disabled||l["aria-disabled"])return Object.assign(l,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(l,{[r](u,...a){let t=n[r];for(let i of t){if(u instanceof Event&&u.defaultPrevented)return;i(u,...a)}}});return l}function ze(e){let l=Object.assign({},e);for(let n in l)l[n]===void 0&&delete l[n];return l}function ne(e,l=[]){let n=Object.assign({},e);for(let r of l)r in n&&delete n[r];return n}function _e(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}var ae=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ae||{});let re=F({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:l,attrs:n}){return()=>{var r;let{features:u,...a}=e,t={"aria-hidden":(u&2)===2?!0:(r=a["aria-hidden"])!=null?r:void 0,hidden:(u&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(u&4)===4&&(u&2)!==2&&{display:"none"}}};return k({ourProps:t,theirProps:a,slot:{},attrs:n,slots:l,name:"Hidden"})}}}),ye=Symbol("Context");var q=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(q||{});function Xe(){return U(ye,null)}function Qe(e){_(ye,e)}var I=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(I||{});function Ye(e){throw new Error("Unexpected object: "+e)}var L=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(L||{});function Je(e,l){let n=l.resolveItems();if(n.length<=0)return null;let r=l.resolveActiveIndex(),u=r??-1;switch(e.focus){case 0:{for(let a=0;a<n.length;++a)if(!l.resolveDisabled(n[a],a,n))return a;return r}case 1:{u===-1&&(u=n.length);for(let a=u-1;a>=0;--a)if(!l.resolveDisabled(n[a],a,n))return a;return r}case 2:{for(let a=u+1;a<n.length;++a)if(!l.resolveDisabled(n[a],a,n))return a;return r}case 3:{for(let a=n.length-1;a>=0;--a)if(!l.resolveDisabled(n[a],a,n))return a;return r}case 4:{for(let a=0;a<n.length;++a)if(l.resolveId(n[a],a,n)===e.id)return a;return r}case 5:return null;default:Ye(e)}}function xe(e={},l=null,n=[]){for(let[r,u]of Object.entries(e))Oe(n,we(l,r),u);return n}function we(e,l){return e?e+"["+l+"]":l}function Oe(e,l,n){if(Array.isArray(n))for(let[r,u]of n.entries())Oe(e,we(l,r.toString()),u);else n instanceof Date?e.push([l,n.toISOString()]):typeof n=="boolean"?e.push([l,n?"1":"0"]):typeof n=="string"?e.push([l,n]):typeof n=="number"?e.push([l,`${n}`]):n==null?e.push([l,""]):xe(n,l,e)}let ce=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function pe(e){var l,n;let r=(l=e.innerText)!=null?l:"",u=e.cloneNode(!0);if(!(u instanceof HTMLElement))return r;let a=!1;for(let i of u.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))i.remove(),a=!0;let t=a?(n=u.innerText)!=null?n:"":r;return ce.test(t)&&(t=t.replace(ce,"")),t}function Ze(e){let l=e.getAttribute("aria-label");if(typeof l=="string")return l.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(u=>{let a=document.getElementById(u);if(a){let t=a.getAttribute("aria-label");return typeof t=="string"?t.trim():pe(a).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return pe(e).trim()}function et(e){let l=E(""),n=E("");return()=>{let r=y(e);if(!r)return"";let u=r.innerText;if(l.value===u)return n.value;let a=Ze(r).trim().toLowerCase();return l.value=u,n.value=a,a}}function tt(e,l){return e===l}var lt=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(lt||{}),nt=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(nt||{}),at=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(at||{});function rt(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let Se=Symbol("ListboxContext");function X(e){let l=U(Se,null);if(l===null){let n=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,X),n}return l}let vt=F({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>tt},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:n,emit:r}){let u=E(1),a=E(null),t=E(null),i=E(null),m=E([]),p=E(""),f=E(null),o=E(1);function v(s=c=>c){let c=f.value!==null?m.value[f.value]:null,h=j(s(m.value.slice()),T=>y(T.dataRef.domRef)),x=c?h.indexOf(c):null;return x===-1&&(x=null),{options:h,activeOptionIndex:x}}let P=O(()=>e.multiple?1:0),[w,d]=Le(O(()=>e.modelValue),s=>r("update:modelValue",s),O(()=>e.defaultValue)),g=O(()=>w.value===void 0?$(P.value,{1:[],0:void 0}):w.value),S={listboxState:u,value:g,mode:P,compare(s,c){if(typeof e.by=="string"){let h=e.by;return(s==null?void 0:s[h])===(c==null?void 0:c[h])}return e.by(s,c)},orientation:O(()=>e.horizontal?"horizontal":"vertical"),labelRef:a,buttonRef:t,optionsRef:i,disabled:O(()=>e.disabled),options:m,searchQuery:p,activeOptionIndex:f,activationTrigger:o,closeListbox(){e.disabled||u.value!==1&&(u.value=1,f.value=null)},openListbox(){e.disabled||u.value!==0&&(u.value=0)},goToOption(s,c,h){if(e.disabled||u.value===1)return;let x=v(),T=Je(s===L.Specific?{focus:L.Specific,id:c}:{focus:s},{resolveItems:()=>x.options,resolveActiveIndex:()=>x.activeOptionIndex,resolveId:N=>N.id,resolveDisabled:N=>N.dataRef.disabled});p.value="",f.value=T,o.value=h??1,m.value=x.options},search(s){if(e.disabled||u.value===1)return;let c=p.value!==""?0:1;p.value+=s.toLowerCase();let h=(f.value!==null?m.value.slice(f.value+c).concat(m.value.slice(0,f.value+c)):m.value).find(T=>T.dataRef.textValue.startsWith(p.value)&&!T.dataRef.disabled),x=h?m.value.indexOf(h):-1;x===-1||x===f.value||(f.value=x,o.value=1)},clearSearch(){e.disabled||u.value!==1&&p.value!==""&&(p.value="")},registerOption(s,c){let h=v(x=>[...x,{id:s,dataRef:c}]);m.value=h.options,f.value=h.activeOptionIndex},unregisterOption(s){let c=v(h=>{let x=h.findIndex(T=>T.id===s);return x!==-1&&h.splice(x,1),h});m.value=c.options,f.value=c.activeOptionIndex,o.value=1},theirOnChange(s){e.disabled||d(s)},select(s){e.disabled||d($(P.value,{0:()=>s,1:()=>{let c=D(S.value.value).slice(),h=D(s),x=c.findIndex(T=>S.compare(h,D(T)));return x===-1?c.push(h):c.splice(x,1),c}}))}};We([t,i],(s,c)=>{var h;S.closeListbox(),be(c,le.Loose)||(s.preventDefault(),(h=y(t))==null||h.focus())},O(()=>u.value===0)),_(Se,S),Qe(O(()=>$(u.value,{0:q.Open,1:q.Closed})));let b=O(()=>{var s;return(s=y(t))==null?void 0:s.closest("form")});return R(()=>{Z([b],()=>{if(!b.value||e.defaultValue===void 0)return;function s(){S.theirOnChange(e.defaultValue)}return b.value.addEventListener("reset",s),()=>{var c;(c=b.value)==null||c.removeEventListener("reset",s)}},{immediate:!0})}),()=>{let{name:s,modelValue:c,disabled:h,form:x,...T}=e,N={open:u.value===0,disabled:h,value:g.value};return C(J,[...s!=null&&g.value!=null?xe({[s]:g.value}).map(([oe,Ie])=>C(re,ze({features:ae.Hidden,key:oe,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:x,disabled:h,name:oe,value:Ie}))):[],k({ourProps:{},theirProps:{...n,...ne(T,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:N,slots:l,attrs:n,name:"Listbox"})])}}}),ct=F({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:l,slots:n,expose:r}){var u;let a=(u=e.id)!=null?u:`headlessui-listbox-button-${G()}`,t=X("ListboxButton");r({el:t.buttonRef,$el:t.buttonRef});function i(o){switch(o.key){case I.Space:case I.Enter:case I.ArrowDown:o.preventDefault(),t.openListbox(),M(()=>{var v;(v=y(t.optionsRef))==null||v.focus({preventScroll:!0}),t.value.value||t.goToOption(L.First)});break;case I.ArrowUp:o.preventDefault(),t.openListbox(),M(()=>{var v;(v=y(t.optionsRef))==null||v.focus({preventScroll:!0}),t.value.value||t.goToOption(L.Last)});break}}function m(o){switch(o.key){case I.Space:o.preventDefault();break}}function p(o){t.disabled.value||(t.listboxState.value===0?(t.closeListbox(),M(()=>{var v;return(v=y(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})})):(o.preventDefault(),t.openListbox(),rt(()=>{var v;return(v=y(t.optionsRef))==null?void 0:v.focus({preventScroll:!0})})))}let f=me(O(()=>({as:e.as,type:l.type})),t.buttonRef);return()=>{var o,v;let P={open:t.listboxState.value===0,disabled:t.disabled.value,value:t.value.value},{...w}=e,d={ref:t.buttonRef,id:a,type:f.value,"aria-haspopup":"listbox","aria-controls":(o=y(t.optionsRef))==null?void 0:o.id,"aria-expanded":t.listboxState.value===0,"aria-labelledby":t.labelRef.value?[(v=y(t.labelRef))==null?void 0:v.id,a].join(" "):void 0,disabled:t.disabled.value===!0?!0:void 0,onKeydown:i,onKeyup:m,onClick:p};return k({ourProps:d,theirProps:w,slot:P,attrs:l,slots:n,name:"ListboxButton"})}}}),pt=F({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(e,{attrs:l,slots:n,expose:r}){var u;let a=(u=e.id)!=null?u:`headlessui-listbox-options-${G()}`,t=X("ListboxOptions"),i=E(null);r({el:t.optionsRef,$el:t.optionsRef});function m(o){switch(i.value&&clearTimeout(i.value),o.key){case I.Space:if(t.searchQuery.value!=="")return o.preventDefault(),o.stopPropagation(),t.search(o.key);case I.Enter:if(o.preventDefault(),o.stopPropagation(),t.activeOptionIndex.value!==null){let v=t.options.value[t.activeOptionIndex.value];t.select(v.dataRef.value)}t.mode.value===0&&(t.closeListbox(),M(()=>{var v;return(v=y(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})}));break;case $(t.orientation.value,{vertical:I.ArrowDown,horizontal:I.ArrowRight}):return o.preventDefault(),o.stopPropagation(),t.goToOption(L.Next);case $(t.orientation.value,{vertical:I.ArrowUp,horizontal:I.ArrowLeft}):return o.preventDefault(),o.stopPropagation(),t.goToOption(L.Previous);case I.Home:case I.PageUp:return o.preventDefault(),o.stopPropagation(),t.goToOption(L.First);case I.End:case I.PageDown:return o.preventDefault(),o.stopPropagation(),t.goToOption(L.Last);case I.Escape:o.preventDefault(),o.stopPropagation(),t.closeListbox(),M(()=>{var v;return(v=y(t.buttonRef))==null?void 0:v.focus({preventScroll:!0})});break;case I.Tab:o.preventDefault(),o.stopPropagation();break;default:o.key.length===1&&(t.search(o.key),i.value=setTimeout(()=>t.clearSearch(),350));break}}let p=Xe(),f=O(()=>p!==null?(p.value&q.Open)===q.Open:t.listboxState.value===0);return()=>{var o,v;let P={open:t.listboxState.value===0},{...w}=e,d={"aria-activedescendant":t.activeOptionIndex.value===null||(o=t.options.value[t.activeOptionIndex.value])==null?void 0:o.id,"aria-multiselectable":t.mode.value===1?!0:void 0,"aria-labelledby":(v=y(t.buttonRef))==null?void 0:v.id,"aria-orientation":t.orientation.value,id:a,onKeydown:m,role:"listbox",tabIndex:0,ref:t.optionsRef};return k({ourProps:d,theirProps:w,slot:P,attrs:l,slots:n,features:V.RenderStrategy|V.Static,visible:f.value,name:"ListboxOptions"})}}}),ft=F({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(e,{slots:l,attrs:n,expose:r}){var u;let a=(u=e.id)!=null?u:`headlessui-listbox-option-${G()}`,t=X("ListboxOption"),i=E(null);r({el:i,$el:i});let m=O(()=>t.activeOptionIndex.value!==null?t.options.value[t.activeOptionIndex.value].id===a:!1),p=O(()=>$(t.mode.value,{0:()=>t.compare(D(t.value.value),D(e.value)),1:()=>D(t.value.value).some(s=>t.compare(D(s),D(e.value)))})),f=O(()=>$(t.mode.value,{1:()=>{var s;let c=D(t.value.value);return((s=t.options.value.find(h=>c.some(x=>t.compare(D(x),D(h.dataRef.value)))))==null?void 0:s.id)===a},0:()=>p.value})),o=et(i),v=O(()=>({disabled:e.disabled,value:e.value,get textValue(){return o()},domRef:i}));R(()=>t.registerOption(a,v)),ee(()=>t.unregisterOption(a)),R(()=>{Z([t.listboxState,p],()=>{t.listboxState.value===0&&p.value&&$(t.mode.value,{1:()=>{f.value&&t.goToOption(L.Specific,a)},0:()=>{t.goToOption(L.Specific,a)}})},{immediate:!0})}),W(()=>{t.listboxState.value===0&&m.value&&t.activationTrigger.value!==0&&M(()=>{var s,c;return(c=(s=y(i))==null?void 0:s.scrollIntoView)==null?void 0:c.call(s,{block:"nearest"})})});function P(s){if(e.disabled)return s.preventDefault();t.select(e.value),t.mode.value===0&&(t.closeListbox(),M(()=>{var c;return(c=y(t.buttonRef))==null?void 0:c.focus({preventScroll:!0})}))}function w(){if(e.disabled)return t.goToOption(L.Nothing);t.goToOption(L.Specific,a)}let d=Ge();function g(s){d.update(s)}function S(s){d.wasMoved(s)&&(e.disabled||m.value||t.goToOption(L.Specific,a,0))}function b(s){d.wasMoved(s)&&(e.disabled||m.value&&t.goToOption(L.Nothing))}return()=>{let{disabled:s}=e,c={active:m.value,selected:p.value,disabled:s},{value:h,disabled:x,...T}=e,N={id:a,ref:i,role:"option",tabIndex:s===!0?void 0:-1,"aria-disabled":s===!0?!0:void 0,"aria-selected":p.value,disabled:void 0,onClick:P,onFocus:w,onPointerenter:g,onMouseenter:g,onPointermove:S,onMousemove:S,onPointerleave:b,onMouseleave:b};return k({ourProps:N,theirProps:T,slot:c,attrs:n,slots:l,name:"ListboxOption"})}}}),ut=F({props:{onFocus:{type:Function,required:!0}},setup(e){let l=E(!0);return()=>l.value?C(re,{as:"button",type:"button",features:ae.Focusable,onFocus(n){n.preventDefault();let r,u=50;function a(){var t;if(u--<=0){r&&cancelAnimationFrame(r);return}if((t=e.onFocus)!=null&&t.call(e)){l.value=!1,cancelAnimationFrame(r);return}r=requestAnimationFrame(a)}r=requestAnimationFrame(a)}}):null}});var ot=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(ot||{}),it=(e=>(e[e.Less=-1]="Less",e[e.Equal=0]="Equal",e[e.Greater=1]="Greater",e))(it||{});let Pe=Symbol("TabsContext");function K(e){let l=U(Pe,null);if(l===null){let n=new Error(`<${e} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,K),n}return l}let ue=Symbol("TabsSSRContext"),bt=F({name:"TabGroup",emits:{change:e=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:l,attrs:n,emit:r}){var u;let a=E((u=e.selectedIndex)!=null?u:e.defaultIndex),t=E([]),i=E([]),m=O(()=>e.selectedIndex!==null),p=O(()=>m.value?e.selectedIndex:a.value);function f(d){var g;let S=j(o.tabs.value,y),b=j(o.panels.value,y),s=S.filter(c=>{var h;return!((h=y(c))!=null&&h.hasAttribute("disabled"))});if(d<0||d>S.length-1){let c=$(a.value===null?0:Math.sign(d-a.value),{[-1]:()=>1,0:()=>$(Math.sign(d),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),h=$(c,{0:()=>S.indexOf(s[0]),1:()=>S.indexOf(s[s.length-1])});h!==-1&&(a.value=h),o.tabs.value=S,o.panels.value=b}else{let c=S.slice(0,d),h=[...S.slice(d),...c].find(T=>s.includes(T));if(!h)return;let x=(g=S.indexOf(h))!=null?g:o.selectedIndex.value;x===-1&&(x=o.selectedIndex.value),a.value=x,o.tabs.value=S,o.panels.value=b}}let o={selectedIndex:O(()=>{var d,g;return(g=(d=a.value)!=null?d:e.defaultIndex)!=null?g:null}),orientation:O(()=>e.vertical?"vertical":"horizontal"),activation:O(()=>e.manual?"manual":"auto"),tabs:t,panels:i,setSelectedIndex(d){p.value!==d&&r("change",d),m.value||f(d)},registerTab(d){var g;if(t.value.includes(d))return;let S=t.value[a.value];if(t.value.push(d),t.value=j(t.value,y),!m.value){let b=(g=t.value.indexOf(S))!=null?g:a.value;b!==-1&&(a.value=b)}},unregisterTab(d){let g=t.value.indexOf(d);g!==-1&&t.value.splice(g,1)},registerPanel(d){i.value.includes(d)||(i.value.push(d),i.value=j(i.value,y))},unregisterPanel(d){let g=i.value.indexOf(d);g!==-1&&i.value.splice(g,1)}};_(Pe,o);let v=E({tabs:[],panels:[]}),P=E(!1);R(()=>{P.value=!0}),_(ue,O(()=>P.value?null:v.value));let w=O(()=>e.selectedIndex);return R(()=>{Z([w],()=>{var d;return f((d=e.selectedIndex)!=null?d:e.defaultIndex)},{immediate:!0})}),W(()=>{if(!m.value||p.value==null||o.tabs.value.length<=0)return;let d=j(o.tabs.value,y);d.some((g,S)=>y(o.tabs.value[S])!==y(g))&&o.setSelectedIndex(d.findIndex(g=>y(g)===y(o.tabs.value[p.value])))}),()=>{let d={selectedIndex:a.value};return C(J,[t.value.length<=0&&C(ut,{onFocus:()=>{for(let g of t.value){let S=y(g);if((S==null?void 0:S.tabIndex)===0)return S.focus(),!0}return!1}}),k({theirProps:{...n,...ne(e,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:d,slots:l,attrs:n,name:"TabGroup"})])}}}),mt=F({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:l,slots:n}){let r=K("TabList");return()=>{let u={selectedIndex:r.selectedIndex.value},a={role:"tablist","aria-orientation":r.orientation.value};return k({ourProps:a,theirProps:e,slot:u,attrs:l,slots:n,name:"TabList"})}}}),ht=F({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(e,{attrs:l,slots:n,expose:r}){var u;let a=(u=e.id)!=null?u:`headlessui-tabs-tab-${G()}`,t=K("Tab"),i=E(null);r({el:i,$el:i}),R(()=>t.registerTab(i)),ee(()=>t.unregisterTab(i));let m=U(ue),p=O(()=>{if(m.value){let b=m.value.tabs.indexOf(a);return b===-1?m.value.tabs.push(a)-1:b}return-1}),f=O(()=>{let b=t.tabs.value.indexOf(i);return b===-1?p.value:b}),o=O(()=>f.value===t.selectedIndex.value);function v(b){var s;let c=b();if(c===H.Success&&t.activation.value==="auto"){let h=(s=fe(i))==null?void 0:s.activeElement,x=t.tabs.value.findIndex(T=>y(T)===h);x!==-1&&t.setSelectedIndex(x)}return c}function P(b){let s=t.tabs.value.map(c=>y(c)).filter(Boolean);if(b.key===I.Space||b.key===I.Enter){b.preventDefault(),b.stopPropagation(),t.setSelectedIndex(f.value);return}switch(b.key){case I.Home:case I.PageUp:return b.preventDefault(),b.stopPropagation(),v(()=>B(s,A.First));case I.End:case I.PageDown:return b.preventDefault(),b.stopPropagation(),v(()=>B(s,A.Last))}if(v(()=>$(t.orientation.value,{vertical(){return b.key===I.ArrowUp?B(s,A.Previous|A.WrapAround):b.key===I.ArrowDown?B(s,A.Next|A.WrapAround):H.Error},horizontal(){return b.key===I.ArrowLeft?B(s,A.Previous|A.WrapAround):b.key===I.ArrowRight?B(s,A.Next|A.WrapAround):H.Error}}))===H.Success)return b.preventDefault()}let w=E(!1);function d(){var b;w.value||(w.value=!0,!e.disabled&&((b=y(i))==null||b.focus({preventScroll:!0}),t.setSelectedIndex(f.value),$e(()=>{w.value=!1})))}function g(b){b.preventDefault()}let S=me(O(()=>({as:e.as,type:l.type})),i);return()=>{var b,s;let c={selected:o.value,disabled:(b=e.disabled)!=null?b:!1},{...h}=e,x={ref:i,onKeydown:P,onMousedown:g,onClick:d,id:a,role:"tab",type:S.value,"aria-controls":(s=y(t.panels.value[f.value]))==null?void 0:s.id,"aria-selected":o.value,tabIndex:o.value?0:-1,disabled:e.disabled?!0:void 0};return k({ourProps:x,theirProps:h,slot:c,attrs:l,slots:n,name:"Tab"})}}}),gt=F({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:l,attrs:n}){let r=K("TabPanels");return()=>{let u={selectedIndex:r.selectedIndex.value};return k({theirProps:e,ourProps:{},slot:u,attrs:n,slots:l,name:"TabPanels"})}}}),yt=F({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(e,{attrs:l,slots:n,expose:r}){var u;let a=(u=e.id)!=null?u:`headlessui-tabs-panel-${G()}`,t=K("TabPanel"),i=E(null);r({el:i,$el:i}),R(()=>t.registerPanel(i)),ee(()=>t.unregisterPanel(i));let m=U(ue),p=O(()=>{if(m.value){let v=m.value.panels.indexOf(a);return v===-1?m.value.panels.push(a)-1:v}return-1}),f=O(()=>{let v=t.panels.value.indexOf(i);return v===-1?p.value:v}),o=O(()=>f.value===t.selectedIndex.value);return()=>{var v;let P={selected:o.value},{tabIndex:w,...d}=e,g={ref:i,id:a,role:"tabpanel","aria-labelledby":(v=y(t.tabs.value[f.value]))==null?void 0:v.id,tabIndex:o.value?w:-1};return!o.value&&e.unmount&&!e.static?C(re,{as:"span","aria-hidden":!0,...g}):k({ourProps:g,theirProps:d,slot:P,attrs:l,slots:n,features:V.Static|V.RenderStrategy,visible:o.value,name:"TabPanel"})}}});export{pt as A,ft as F,gt as I,vt as a,ct as j,bt as m,mt as p,ht as x,yt as y};
